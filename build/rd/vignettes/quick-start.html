

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Get started &mdash; flowr 0.9.7 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="flowr 0.9.7 documentation" href="../../index.html"/>
        <link rel="next" title="Building Pipelines" href="build-pipes.html"/>
        <link rel="prev" title="flowr: Streamline your workflows" href="../../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> flowr</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Get started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#toy-example">Toy example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stitch">Stitch</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plot">Plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-it">Test it</a></li>
<li class="toctree-l2"><a class="reference internal" href="#submit-it">Submit it !</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-the-status">Check the status</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build-pipes.html">Building Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="build-pipes.html#ingredients">Ingredients</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-pipes.html#submission-types">Submission types</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-pipes.html#dependency-types">Dependency types</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-pipes.html#relationships">Relationships</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-pipes.html#passing-of-flow-definition-resource-columns">Passing of flow definition resource columns</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build-pipes.html#available-pipelines">Available Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="build-pipes.html#cluster-support">Cluster Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topics/complete-help.html">Help on Available functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#check-args">check_args</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#check">check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#cmds-to-flow">cmds_to_flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#fetch">fetch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#id13">flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#get-unique-id">get_unique_id</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#get-wds">get_wds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#job">job</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#kill">kill</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#flowopts">flowopts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#parse-jobids">parse_jobids</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#plot-flow">plot_flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#queue">queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#rerun">rerun</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#run">run</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#setup">setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#id145">status</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#id150">submit_flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#test-queue">test_queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#to-flow">to_flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#as-flowdef">as.flowdef</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#to-flowdet">to_flowdet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#as-flowmat">as.flowmat</a></li>
<li class="toctree-l2"><a class="reference internal" href="../topics/complete-help.html#whisker-render">whisker_render</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../faqs.html">FAQs</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">flowr</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>Get started</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/rd/vignettes/quick-start.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="get-started">
<h1>Get started<a class="headerlink" href="#get-started" title="Permalink to this headline">¶</a></h1>
<div class="code r highlight-python"><div class="highlight"><pre>install.packages(&#39;devtools&#39;)
devtools::install_github(&quot;sahilseth/flowr&quot;)
</pre></div>
</div>
<p>Run a setup function which copies &#8216;flowr&#8217; helper script to enable using flow from shell terminal itself. A few examples <a class="reference external" href="https://github.com/sahilseth/rfun">here</a>.</p>
<div class="code r highlight-python"><div class="highlight"><pre><span class="n">library</span><span class="p">(</span><span class="n">flowr</span><span class="p">)</span>
</pre></div>
</div>
<div class="code r highlight-python"><div class="highlight"><pre><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="toy-example">
<h2>Toy example<a class="headerlink" href="#toy-example" title="Permalink to this headline">¶</a></h2>
<div class="figure">
<img alt="" src="../../_images/toy.png" />
</div>
<p>A simple example where we have three instances of sleep (wait for few seconds), after completion three tmp jobs are started which create files with some random data. After all these are complete, a merge step follows, which combines them into one big file. Next we use <code class="docutils literal"><span class="pre">du</span></code> to calculate the size of the resulting file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is quite similar in structure to a typical workflow from where a series of alignment and sorting steps may take place on the raw fastq files. Followed by merging of the resulting bam files into one large file per-sample and further downstream processing.</p>
</div>
<p>The table below is referred to as <a class="reference external" href="http://docs.flowr.space/en/latest/rd/vignettes/build-pipes.html#flow-mat-a-table-with-shell-commands-to-run">flow_mat</a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="15%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">samplename</th>
<th class="head">jobname</th>
<th class="head">cmd</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>sample1</td>
<td>sleep</td>
<td>sleep 10 &amp;&amp; sleep 2;echo hello</td>
</tr>
<tr class="row-odd"><td>sample1</td>
<td>sleep</td>
<td>sleep 11 &amp;&amp; sleep 8;echo hello</td>
</tr>
<tr class="row-even"><td>sample1</td>
<td>sleep</td>
<td>sleep 11 &amp;&amp; sleep 17;echo hello</td>
</tr>
<tr class="row-odd"><td>sample1</td>
<td>create_tmp</td>
<td>head -c 100000 /dev/urandom &gt; sample1_tmp_1</td>
</tr>
<tr class="row-even"><td>sample1</td>
<td>create_tmp</td>
<td>head -c 100000 /dev/urandom &gt; sample1_tmp_2</td>
</tr>
<tr class="row-odd"><td>sample1</td>
<td>create_tmp</td>
<td>head -c 100000 /dev/urandom &gt; sample1_tmp_3</td>
</tr>
<tr class="row-even"><td>sample1</td>
<td>merge</td>
<td>cat sample1_tmp_1 sample1_tmp_2 sample1_tmp_3 &gt; sample1_merged</td>
</tr>
<tr class="row-odd"><td>sample1</td>
<td>size</td>
<td>du -sh sample1_merged; echo MY shell: $SHELL</td>
</tr>
</tbody>
</table>
<p>We use an additional file specifying relationship between the steps, and also other resource requirements <a class="reference external" href="http://docs.flowr.space/en/latest/rd/vignettes/build-pipes.html#flow-definition">flow_def</a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="10%" />
<col width="11%" />
<col width="10%" />
<col width="7%" />
<col width="15%" />
<col width="9%" />
<col width="13%" />
<col width="9%" />
<col width="7%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">jobname</th>
<th class="head">sub_type</th>
<th class="head">prev_jobs</th>
<th class="head">dep_type</th>
<th class="head">queue</th>
<th class="head">memory_reserved</th>
<th class="head">walltime</th>
<th class="head">cpu_reserved</th>
<th class="head">platform</th>
<th class="head">jobid</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>sleep</td>
<td>scatter</td>
<td>none</td>
<td>none</td>
<td>short</td>
<td>2000</td>
<td>1:00</td>
<td>1</td>
<td>torque</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>create_tmp</td>
<td>scatter</td>
<td>sleep</td>
<td>serial</td>
<td>short</td>
<td>2000</td>
<td>1:00</td>
<td>1</td>
<td>torque</td>
<td>2</td>
</tr>
<tr class="row-even"><td>merge</td>
<td>serial</td>
<td>create_tmp</td>
<td>gather</td>
<td>short</td>
<td>2000</td>
<td>1:00</td>
<td>1</td>
<td>torque</td>
<td>3</td>
</tr>
<tr class="row-odd"><td>size</td>
<td>serial</td>
<td>merge</td>
<td>serial</td>
<td>short</td>
<td>2000</td>
<td>1:00</td>
<td>1</td>
<td>torque</td>
<td>4</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="stitch">
<h2>Stitch<a class="headerlink" href="#stitch" title="Permalink to this headline">¶</a></h2>
<div class="code r highlight-python"><div class="highlight"><pre>fobj &lt;- to_flow(x = flow_mat, def = as.flowdef(flow_def),
    flowname = &quot;example1&quot;, platform = &quot;lsf&quot;)
</pre></div>
</div>
</div>
<div class="section" id="plot">
<h2>Plot<a class="headerlink" href="#plot" title="Permalink to this headline">¶</a></h2>
<div class="code r highlight-python"><div class="highlight"><pre><span class="n">plot_flow</span><span class="p">(</span><span class="n">fobj</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure" id="id1">
<img alt="Flow chart describing process for example 1" src="../../_images/plot_example1-1.png" />
<p class="caption"><span class="caption-text">Flow chart describing process for example 1</span></p>
</div>
</div>
<div class="section" id="test-it">
<h2>Test it<a class="headerlink" href="#test-it" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Dry run (submit)</div></blockquote>
<div class="code r highlight-python"><div class="highlight"><pre><span class="n">submit_flow</span><span class="p">(</span><span class="n">fobj</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Test Successful!
You may check this folder for consistency. Also you may re-run submit with execute=TRUE
 ~/flowr/type1-20150520-15-18-27-5mSd32G0
</pre></div>
</div>
</div>
<div class="section" id="submit-it">
<h2>Submit it !<a class="headerlink" href="#submit-it" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>Submit to the cluster</div></blockquote>
<div class="code r highlight-python"><div class="highlight"><pre><span class="n">submit_flow</span><span class="p">(</span><span class="n">fobj</span><span class="p">,</span> <span class="n">execute</span> <span class="o">=</span> <span class="n">TRUE</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Flow has been submitted. Track it from terminal using:
flowr::status(x=&quot;~/flowr/type1-20150520-15-18-46-sySOzZnE&quot;)
OR
flowr status x=~/flowr/type1-20150520-15-18-46-sySOzZnE
</pre></div>
</div>
</div>
<div class="section" id="check-the-status">
<h2>Check the status<a class="headerlink" href="#check-the-status" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>flowr status x=~/flowr/type1-20150520-15-18-46-sySOzZnE
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>Loading required package: shape
Flowr: streamlining workflows
Showing status of: /rsrch2/iacs/iacs_dep/sseth/flowr/type1-20150520-15-18-46-sySOzZnE


|          | total| started| completed| exit_status|
|:---------|-----:|-------:|---------:|-----------:|
|001.sleep |    10|      10|        10|           0|
|002.tmp   |    10|      10|        10|           0|
|003.merge |     1|       1|         1|           0|
|004.size  |     1|       1|         1|           0|
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Interested? Here are some details on <a class="reference external" href="http://docs.flowr.space/en/latest/rd/vignettes/build-pipes.html">building pipelines</a></p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="build-pipes.html" class="btn btn-neutral float-right" title="Building Pipelines">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../index.html" class="btn btn-neutral" title="flowr: Streamline your workflows"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Sahil Seth.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.9.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>